{"version":3,"sources":["App.js","index.js"],"names":["App","props","handleRemoveButtonPress","event","preventDefault","updatedNominations","push","apply","state","nominations","splice","indexOf","target","value","setState","query","results","sessionStorage","setItem","JSON","stringify","handleNominateButtonPress","handleInputChange","api","fetch","then","response","json","data","i","movies","Response","Search","length","Title","Year","storedNominations","parse","getItem","className","class","style","display","this","src","type","placeholder","onChange","map","item","onClick","disabled","includes","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mPA0KeA,G,wDApKb,WAAYC,GAAQ,IAAD,uBACjB,cAAMA,IAgBRC,wBAA0B,SAACC,GACzBA,EAAMC,iBAGN,IAAIC,EAAqB,GACzBA,EAAmBC,KAAKC,MAAMF,EAAoB,EAAKG,MAAMC,aAC7DJ,EAAmBK,OAAOL,EAAmBM,QAAQR,EAAMS,OAAOC,OAAQ,GAG1E,EAAKC,SAAS,CACZC,MAAO,EAAKP,MAAMO,MAClBC,QAAS,EAAKR,MAAMQ,QACpBP,YAAaJ,IAIfY,eAAeC,QAAQ,oBAAqBC,KAAKC,UAAUf,KAjC1C,EAqCnBgB,0BAA4B,SAAClB,GAC3BA,EAAMC,iBAGN,IAAIC,EAAqB,GACzBA,EAAmBC,KAAKC,MAAMF,EAAoB,EAAKG,MAAMC,aAC7DJ,EAAmBC,KAAKH,EAAMS,OAAOC,OAGrC,EAAKC,SAAS,CACZC,MAAO,EAAKP,MAAMO,MAClBC,QAAS,EAAKR,MAAMQ,QACpBP,YAAaJ,IAIfY,eAAeC,QAAQ,oBAAqBC,KAAKC,UAAUf,KArD1C,EAyDnBiB,kBAAoB,SAACnB,GACnBA,EAAMC,iBAGN,IAAMmB,EAAM,8CAAgDpB,EAAMS,OAAOC,MAGzEW,MAAMD,GACHE,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GAGL,IAEMC,EAFFC,EAAS,GACb,GAAsB,SAAlBF,EAAKG,SAEP,IAAKF,EAAI,EAAGA,EAAID,EAAKI,OAAOC,OAAQJ,IAClCC,EAAOxB,KAAKsB,EAAKI,OAAOH,GAAGK,MAAQ,KAAON,EAAKI,OAAOH,GAAGM,KAAO,KAGpE,OAAOL,KAERL,MAAK,SAACK,GAGL,EAAKhB,SAAS,CACZC,MAAOZ,EAAMS,OAAOC,MACpBG,QAASc,EACTrB,YAAa,EAAKD,MAAMC,kBAjF9B,EAAKD,MAAQ,CACXO,MAAO,GACPC,QAAS,GACTP,YAAa,IAIf,IAAI2B,EAAoBjB,KAAKkB,MAAMpB,eAAeqB,QAAQ,sBAVzC,OAWQ,MAArBF,GAA6BA,EAAkBH,OAAS,IAC1D,EAAKzB,MAAMC,YAAc2B,GAZV,E,qDA0FT,IAAD,OACP,OACE,sBAAKG,UAAU,MAAf,UAGE,sBAAKC,MAAM,QAAQC,MAAO,CAACC,QAA2C,IAAlCC,KAAKnC,MAAMC,YAAYwB,OAAe,QAAU,QAApF,UACE,8CADF,uCAKA,qBAAKM,UAAU,SAAf,SACE,+BACE,qBAAKC,MAAM,OAAOI,IAAI,0BADxB,oBAMF,qBAAKL,UAAU,MAAf,SAGE,sBAAKA,UAAU,OAAf,UACE,gDACA,uBAAOA,UAAU,SAASM,KAAK,OAAOC,YAAY,iBAAiBC,SAAUJ,KAAKrB,yBAItF,sBAAKiB,UAAU,MAAf,UAGE,sBAAKA,UAAU,OAAf,UACE,gCAAO,8CAAiBI,KAAKnC,MAAMO,MAA5B,SACP,6BAEI4B,KAAKnC,MAAMQ,QAAQgC,KAAI,SAACC,GACtB,OACE,+BACE,+BAAOA,IACP,+BACE,wBAAQV,UAAU,SAASM,KAAK,SAAShC,MAAOoC,EAAMC,QAAS,EAAK7B,0BAA2B8B,WAAU,EAAK3C,MAAMC,YAAY2C,SAASH,GAAzI,0BAHKA,WAenB,sBAAKV,UAAU,OAAf,UACE,gCAAO,8CACP,6BAEII,KAAKnC,MAAMC,YAAYuC,KAAI,SAACC,GAC1B,OACE,+BACE,+BAAOA,IACP,+BACE,wBAAQV,UAAU,SAASM,KAAK,SAAShC,MAAOoC,EAAMC,QAAS,EAAKhD,wBAApE,wBAHK+C,qB,GArJXI,cCElBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.4ee3b5e9.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\n\nclass App extends Component {\n\n  // Constructor to initialize state variables\n  constructor(props) {\n    super(props)\n    \n    this.state = {\n      query: '',        // Search value entered by user\n      results: [],      // Movie results returned by API\n      nominations: []   // Movie nominations selected by user\n    }\n\n    // Check user's session storage for any nominations\n    let storedNominations = JSON.parse(sessionStorage.getItem('storedNominations'))\n    if (storedNominations != null && storedNominations.length > 0) {\n      this.state.nominations = storedNominations\n    }\n  }\n\n  // Handles button press for nomination removal\n  handleRemoveButtonPress = (event) => {\n    event.preventDefault()  \n    \n    // Remove the movie from the nomination list\n    let updatedNominations = []\n    updatedNominations.push.apply(updatedNominations, this.state.nominations)\n    updatedNominations.splice(updatedNominations.indexOf(event.target.value), 1)\n\n    // Update the nominations state variable\n    this.setState({\n      query: this.state.query,\n      results: this.state.results,\n      nominations: updatedNominations\n    })\n\n    // Update the nominations list in the session storage\n    sessionStorage.setItem('storedNominations', JSON.stringify(updatedNominations))\n  }\n\n  // Handles button press for new nomination\n  handleNominateButtonPress = (event) => {\n    event.preventDefault()  \n\n    // Add the movie to the nomination list\n    let updatedNominations = []\n    updatedNominations.push.apply(updatedNominations, this.state.nominations)\n    updatedNominations.push(event.target.value)\n\n    // Update the nominations state variable\n    this.setState({\n      query: this.state.query,\n      results: this.state.results,\n      nominations: updatedNominations\n    })\n\n    // Update the nominations list in the session storage\n    sessionStorage.setItem('storedNominations', JSON.stringify(updatedNominations))\n  }\n\n  // Handles changes in the search field\n  handleInputChange = (event) => {\n    event.preventDefault()\n\n    // API URL for searching movies on OMDB\n    const api = 'https://www.omdbapi.com/?apikey=b2798bd0&s=' + event.target.value\n\n    // Make API call (fetch request)\n    fetch(api)\n      .then((response) => response.json())\n      .then((data) => {\n\n        // Get a list of the movie results\n        let movies = []\n        if (data.Response === \"True\") {\n          let i;\n          for (i = 0; i < data.Search.length; i++) {\n            movies.push(data.Search[i].Title + \" (\" + data.Search[i].Year + \")\")\n          }\n        }\n        return movies\n      })\n      .then((movies) => {\n\n        // Update the query and results state variables\n        this.setState({\n          query: event.target.value,\n          results: movies,\n          nominations: this.state.nominations\n        })\n      })\n  }\n\n  // Returns JSX to render\n  render() {\n    return (\n      <div className=\"App\">\n\n        {/* Banner notification that appears when 5 nominations have been selected */}\n        <div class=\"Alert\" style={{display: this.state.nominations.length === 5 ? 'block' : 'none' }}>\n          <strong>Success!</strong> You have selected 5 nominations.\n        </div>\n\n        {/* Header that contains logo and title */}\n        <div className=\"Header\">\n          <h3>\n            <img class='Logo' src='the-shoppies-logo.png'></img>\n            The Shoppies\n          </h3>\n        </div>\n\n        <div className=\"Row\">\n\n          {/* Search bar to look up movies on OMDB */}\n          <div className=\"Card\">\n            <label>Movie title</label>\n            <input className=\"Search\" type=\"text\" placeholder=\"Search OMDB...\" onChange={this.handleInputChange}></input>\n          </div>\n        </div>\n\n        <div className=\"Row\">\n\n          {/* Displays list of search results */}\n          <div className=\"Card\">\n            <label><b>Results for \"{this.state.query}\"</b></label>\n            <ul>\n              {\n                this.state.results.map((item) => {\n                  return(\n                    <li key={item}>\n                      <span>{item}</span>\n                      <span>\n                        <button className=\"Button\" type=\"button\" value={item} onClick={this.handleNominateButtonPress} disabled={this.state.nominations.includes(item) ? true : false}>\n                          Nominate\n                        </button>\n                      </span>\n                    </li>\n                  )\n                })\n              }\n            </ul>\n          </div>\n\n          {/* Displays list of nominations */}\n          <div className=\"Card\">\n            <label><b>Nominations</b></label>\n            <ul>\n              {\n                this.state.nominations.map((item) => {\n                  return(\n                    <li key={item}>\n                      <span>{item}</span>\n                      <span>\n                        <button className=\"Button\" type=\"button\" value={item} onClick={this.handleRemoveButtonPress}>\n                          Remove\n                        </button>\n                      </span>\n                    </li>\n                  )\n                })\n              }\n            </ul>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}